

settings_bloatware=(
"io.liriliri.eruda"
"com.trassion.infinix.xclub"
"com.transsion.wifiplaytogether"
"com.facebook.services"
"net.bat.store"
"com.transsnet.store"
"com.trinetvpn.prov2"
"com.biomes.vanced"
"com.smartlife.nebula"
"com.cerdillac.proccd"
"com.pyypl"
"com.stephaneginier.nomad"
"com.maxmpz.audioplayes"
"com.mediafire.android"
"ru.mail.mailapp"
"com.codeliber.jspro"
"com.codepoint.learnpython3pro"
"com.meenstudio.pybook"
"com.digitalchemy.calculator.freefraction"
"com.sweetrsoft.fakemessenger"
"org.chromium.webapk.ab3fc8c03ce2d9756_v2"
"com.dencreak.dlcalculator"
"com.pinoy.pmedia"
"com.autoliker.miner"
"com.transsion.carlcare"
"net.bat.store"
"com.transsnet.store"
"com.mediaon.apt"
"com.transsion.tecnospot"
"com.funbase.xradio"
"com.talpa.share"
"com.rlk.weathers"
"com.krazeapps.csharpprogrammingcompiler"
"com.google.android.apps.youtube.music"
"com.talpa.hibrowser"
"com.transsion.hiparty"
"com.transsion.magazineservice.hios"
"com.zaz.translate"
"com.transsion.phonemaster"
"com.google.android.apps.wellbeing"
"com.google.android.apps.meetings"
"com.transsion.magicshow"
"com.facebook.services"
"com.google.android.projection.gearhead"
"com.transsion.plat.appupdate"
"com.google.android.apps.googleassistant"
"com.android.bbklog"
"com.android.bbkmusic"
"com.bbk.account"
"com.bbk.cloud"
"com.bbk.iqoo.logsystem"
"com.bbk.photoframewidget"
"com.bbk.scene.indoor"
"com.bbk.SuperPowerSave"
"com.baidu.duersdk.opensdk"
"com.baidu.input_vivo"
"com.facebook.appmanager"
"com.facebook.system"
"com.google.android.apps.tachyon"
"com.google.android.feedback"
"com.google.android.marvin.talkback"
"com.google.android.music"
"com.google.android.printservice.recommendation"
"com.google.android.tts"
"com.google.android.videos"
"com.qti.qualcomm.deviceinfo"
"com.qualcomm.qti.ims"
"com.qualcomm.qti.lpa"
"com.qti.confuridialer"
"com.qti.dpmserviceapp"
"com.qti.qualcomm.datastatusnotification"
"com.qualcomm.embms"
"com.qualcomm.qti.autoregistration"
"com.qualcomm.qti.callfeaturessetting"
"com.qualcomm.qti.uim"
"com.vivo.browser"
"com.vivo.appfilter"
"com.vivo.ewarranty"
"com.vivo.appstore"
"com.vivo.assistant"
"com.vivo.doubleinstance"
"com.vivo.dream.music"
"com.vivo.dream.weather"
"com.vivo.easyshare"
"com.vivo.floatingball"
"com.vivo.FMRadio"
"com.vivo.fuelsummary"
"com.vivo.gamewatch"
"com.vivo.globalsearch"
"com.vivo.vivokaraoke"
"com.vivo.livewallpaper.coffeetime"
"com.vivo.livewallpaper.coralsea"
"com.vivo.livewallpaper.floatingcloud"
"com.vivo.livewallpaper.silk"
"com.vivo.magazine"
"com.vivo.mediatune"
"com.vivo.minscreen"
"com.vivo.motormode"
"com.vivo.carmode"
"com.vivo.numbermark"
"com.vivo.pushservice"
"com.vivo.safecentercom.vivo.scanner"
"com.vivo.setupwizard"
"com.vivo.smartmultiwindow"
"com.vivo.smartshot"
"com.vivo.translator"
"com.vivo.unionpay"
"com.vivo.video.floating"
"com.vivo.videoeditor"
"com.vivo.weather"
"com.vivo.weather.provider"
"com.vivo.website"
"com.kikaoem.vivo.qisiemoji.inputmethod"
"com.android.bips"
"com.android.bookmarkprovider"
"com.android.cellbroadcastreceiver"
"com.android.cellbroadcastreceiver.overlay.common"
"com.android.dreams.basic"
"com.android.dreams.phototable"
"com.android.emergency"
"com.android.hotwordenrollment.okgoogle"
"com.android.printspooler"
"com.android.statementservice"
"com.android.stk"
"com.android.email"
"com.netflix.partner.activation"
"com.miui.weather2"
"com.miui.yellowpage"
"com.swiftkey.languageprovider"
"com.swiftkey.swiftkeyconfigurator"
"com.xiaomi.discover"
"com.xiaomi.glgm"
"com.xiaomi.joyose"
"com.xiaomi.location.fused"
"com.xiaomi.micloud.sdk"
"com.xiaomi.midrop"
"com.xiaomi.mipicks"
"com.xiaomi.miplay_client"
"com.xiaomi.mirecycle"
"com.xiaomi.oversea.ecom"
"com.xiaomi.payment"
"com.xiaomi.providers.appindex"
"com.xiaomi.xmsf"
"com.miui.providers.weather"
"com.miui.translationservice"
"com.miui.translation.kingsoft"
"com.miui.translation.xmcloud"
"com.miui.translation.youdao"
"com.miui.touchassistant"
"com.miui.userguide"
"com.mi.android.globalpersonalassistant"
"com.mi.dlabs.vr"
"com.mi.globalTrendNews"
"com.mi.global.bbs"
"com.mi.global.shop"
"com.mi.webkit.core"
"com.micredit.in"
"com.milink.service"
"com.mipay.wallet.id"
"com.mipay.wallet.in"
"com.miui.analytics"
"com.miui.bugreport"
"com.miui.cloudbackup"
"com.miui.cloudservice"
"com.miui.cloudservice.sysbase"
"com.miui.micloudsync"
"com.miui.hybrid"
"com.miui.hybrid.accessory"
"com.miui.klo.bugreport"
"com.miui.miservice"
"com.miui.msa.global"
"com.sohu.inputmethod.sogou.xiaomi"
"com.xiaomi.discover"
"com.xiaomi.channel"
"com.xiaomi.joyose"
"com.xiaomi.micloud.sdk"
"com.xiaomi.location.fused"
"com.xiaomi.mi_connect_service"
"com.xiaomi.micloud.sdk"
"com.xiaomi.midrop"
"com.xiaomi.mipicks"
"com.xiaomi.miplay_client"
"com.xiaomi.mircs"
"com.xiaomi.mirecycle"
"com.xiaomi.mirror"
"com.xiaomi.simactivate.service"
)

execute() {
  for bloatware in "${settings_bloatware[@]}"; do
    if pm uninstall -k --user 0 "${bloatware}" > /dev/null 2>&1; then
      echo "Removing ${bloatware}"
    fi
  done

  # Check if all bloatware has been removed
  all_removed=true
  for bloatware in "${settings_bloatware[@]}"; do
    if pm list packages | grep -q "${bloatware}"; then
      all_removed=false
      break
    fi
  done

  if $all_removed; then
    echo "All bloatwares have been removed."
  else
    echo "Some bloatwares could not be removed."
  fi
}

execute